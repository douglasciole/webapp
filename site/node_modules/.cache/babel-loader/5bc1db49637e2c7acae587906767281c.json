{"ast":null,"code":"import React from'react';import'../css/Login.css';import'../css/components/Error.css';import TextField from'../components/TextField';import Button from'../components/Button';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Alert from'react-bootstrap/Alert';import{loginAlert}from'../actions/login';import{useSelector,useDispatch}from'react-redux';export default(function(props){var dispatch=useDispatch();var loginForm=useSelector(function(state){return state.login;});var loginAction=function loginAction(server){var requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({'email':loginForm.email,'password':loginForm.password})};fetch(server+\"/loginAdmin\",requestOptions).then(function(res){return res.json();}).then(function(res){if(res.status==1){localStorage.setItem(\"userData\",JSON.stringify(res));window.location=\"/menu\";}else{dispatch(loginAlert(true));setTimeout(function(){dispatch(loginAlert(false));},3000);}// console.log(res);\n// this.setState({clientList: res});\n});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"alert-message-container\"},/*#__PURE__*/React.createElement(Alert,{show:loginForm.error,key:\"ewfwef\"},/*#__PURE__*/React.createElement(\"div\",{className:\"affitto-error-container\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{className:\"menuRow\"},/*#__PURE__*/React.createElement(Col,{md:2,lg:2,sm:1,xs:1}),/*#__PURE__*/React.createElement(Col,{md:8,lg:8,sm:10,xs:10},/*#__PURE__*/React.createElement(\"span\",null,\"E-mail or Password is incorrect!\"))))))),/*#__PURE__*/React.createElement(Row,{className:\"menuRow\"},/*#__PURE__*/React.createElement(Col,{md:2,lg:2,sm:1,xs:1}),/*#__PURE__*/React.createElement(Col,{md:6,lg:6,sm:10,xs:10},/*#__PURE__*/React.createElement(\"div\",{className:\"login-title\"},\"Welcome to the Administrative Portal\")),/*#__PURE__*/React.createElement(Col,{md:4,lg:4,sm:1,xs:1})),/*#__PURE__*/React.createElement(TextField,{linked:\"EMAIL\",label:\"E-Mail\"}),/*#__PURE__*/React.createElement(TextField,{linked:\"PASSWORD\",type:\"password\",label:\"Password\"}),/*#__PURE__*/React.createElement(Row,{className:\"menuRow\"},/*#__PURE__*/React.createElement(Col,{md:2,lg:2,sm:1,xs:1}),/*#__PURE__*/React.createElement(Col,{md:6,lg:6,sm:10,xs:10},/*#__PURE__*/React.createElement(\"div\",{className:\"login-btn-container\"},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){loginAction(props.authServer);}},\"Login\"))),/*#__PURE__*/React.createElement(Col,{md:4,lg:4,sm:1,xs:1})));});","map":{"version":3,"sources":["/Users/douglas/Desktop/Projects/react/webapp/site/src/pages/Login.js"],"names":["React","TextField","Button","Container","Row","Col","Alert","loginAlert","useSelector","useDispatch","props","dispatch","loginForm","state","login","loginAction","server","requestOptions","method","headers","body","JSON","stringify","email","password","fetch","then","res","json","status","localStorage","setItem","window","location","setTimeout","error","authServer"],"mappings":"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","sourcesContent":["import React from 'react'\nimport '../css/Login.css';\nimport '../css/components/Error.css';\n\nimport TextField from '../components/TextField';\nimport Button from '../components/Button';\n\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Alert from 'react-bootstrap/Alert'\n\nimport { loginAlert } from '../actions/login';\nimport { useSelector, useDispatch } from 'react-redux';\n\n\nexport default (props) => {\n    const dispatch = useDispatch();\n    const loginForm = useSelector(state => state.login);\n\n    const loginAction = (server) => {\n\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({'email': loginForm.email, 'password': loginForm.password})\n        };\n\n        fetch(server+\"/loginAdmin\", requestOptions)\n        .then(res => res.json())\n        .then(res => {\n\n            if (res.status == 1) {\n                localStorage.setItem(\"userData\", JSON.stringify(res));\n\n                window.location = \"/menu\";\n            }else {\n                dispatch(loginAlert(true));\n                setTimeout(() => {\n                    dispatch(loginAlert(false));\n                }, 3000);\n            }\n\n            // console.log(res);\n            // this.setState({clientList: res});\n        });\n\n    }\n\n    return (\n        <>\n            <div className=\"alert-message-container\">\n                <Alert show={loginForm.error} key='ewfwef'>\n                    <div className=\"affitto-error-container\">\n                        <Container>\n                            <Row className=\"menuRow\">\n                                <Col md={2} lg={2} sm={1} xs={1}></Col>\n                                <Col md={8} lg={8} sm={10} xs={10}>\n                                    <span>E-mail or Password is incorrect!</span>\n                                </Col>\n                            </Row>\n                        </Container>\n                    </div>\n                </Alert>\n            </div>\n            \n            <Row className=\"menuRow\">\n                <Col md={2} lg={2} sm={1} xs={1}></Col>\n                <Col md={6} lg={6} sm={10} xs={10}>\n                    <div className=\"login-title\">\n                        Welcome to the Administrative Portal\n                    </div>\n                </Col>\n                <Col md={4} lg={4} sm={1} xs={1}></Col>\n            </Row>\n            \n            \n            <TextField linked=\"EMAIL\" label=\"E-Mail\" />\n            <TextField linked=\"PASSWORD\" type=\"password\" label=\"Password\" />\n            \n            <Row className=\"menuRow\">\n                <Col md={2} lg={2} sm={1} xs={1}></Col>\n                <Col md={6} lg={6} sm={10} xs={10}>\n                    <div className=\"login-btn-container\">\n                        <Button onClick={() => { loginAction(props.authServer); }}>Login</Button>\n                    </div>\n                </Col>\n                <Col md={4} lg={4} sm={1} xs={1}></Col>\n            </Row>\n            \n            \n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}