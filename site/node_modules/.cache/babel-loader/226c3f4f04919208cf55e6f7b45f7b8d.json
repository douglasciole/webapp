{"ast":null,"code":"import _classCallCheck from\"/Users/douglas/Desktop/Projects/affitto/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/douglas/Desktop/Projects/affitto/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/douglas/Desktop/Projects/affitto/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/douglas/Desktop/Projects/affitto/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import SearchTop from'../components/SearchTop';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Toggle from'../components/Toggle';var ClientExplorer=/*#__PURE__*/function(_Component){_inherits(ClientExplorer,_Component);var _super=_createSuper(ClientExplorer);function ClientExplorer(props){var _this;_classCallCheck(this,ClientExplorer);_this=_super.call(this,props);_this.state={clientList:[],activeSubtable:\"\",server:props.server};return _this;}_createClass(ClientExplorer,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;var userData=JSON.parse(localStorage.getItem(\"userData\"));var requestOptions={method:'POST',headers:{'Content-Type':'application/json','x-access-token':\"ottiffa \"+userData.accessToken},body:JSON.stringify({})};fetch(this.state.server+\"/clients\",requestOptions).then(function(res){return res.json();}).then(function(res){if(res.status==401||res.status==403){localStorage.removeItem(\"userData\");window.location=\"/\";}else{_this2.setState({clientList:res});}});}},{key:\"render\",value:function render(){var _this3=this;var toggleSubtable=function toggleSubtable(element){_this3.setState({activeSubtable:element});};var updateStatus=function updateStatus(userId,userActive){var userData=JSON.parse(localStorage.getItem(\"userData\"));var requestOptions={method:'POST',headers:{'Content-Type':'application/json','x-access-token':\"ottiffa \"+userData.accessToken},body:JSON.stringify({id:userId,active:userActive})};fetch(_this3.state.server+\"/changeStatus\",requestOptions).then(function(res){return res.json();}).then(function(res){if(res.status==401||res.status==403){localStorage.removeItem(\"userData\");window.location=\"/\";}else{_this3.setState({clientList:res});}});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(SearchTop,{color:\"green\",title:\"Client Explorer\",href:\"/menu\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"affitto-new-table\"},/*#__PURE__*/React.createElement(Row,{className:\"affitto-table-header-container\"},/*#__PURE__*/React.createElement(Col,{md:2,lg:2,sm:1,xs:1}),/*#__PURE__*/React.createElement(Col,{md:9,lg:9,sm:9,xs:9},/*#__PURE__*/React.createElement(Row,{className:\"affitto-table-header\"},/*#__PURE__*/React.createElement(Col,{className:\"text-left\"},\"Brand\"),/*#__PURE__*/React.createElement(Col,{className:\"text-left\"},\"Email Contact\"),/*#__PURE__*/React.createElement(Col,{className:\"text-center\"},\"Personal Info\"),/*#__PURE__*/React.createElement(Col,{className:\"text-center\"},\"Bank Info\"),/*#__PURE__*/React.createElement(Col,{className:\"text-center\"},\"Product List\"),/*#__PURE__*/React.createElement(Col,{className:\"text-center\"},\"Active Status\")))),this.state.clientList.map(function(row,i){return/*#__PURE__*/React.createElement(\"div\",{className:\"affitto-table-row\"},/*#__PURE__*/React.createElement(Row,{className:\"affitto-table-row-container\"},/*#__PURE__*/React.createElement(Col,{md:2,lg:2,sm:1,xs:1}),/*#__PURE__*/React.createElement(Col,{md:9,lg:9,sm:9,xs:9},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"text-left\"},row.brand_name_dba),/*#__PURE__*/React.createElement(Col,{className:\"text-left\"},row.business_owner_email),/*#__PURE__*/React.createElement(Col,{className:\"text-center\"},/*#__PURE__*/React.createElement(\"a\",{href:\"javascript: void(0);\",onClick:function onClick(){toggleSubtable(\"personalInfo\"+i);}},\"View\")),/*#__PURE__*/React.createElement(Col,{className:\"text-center\"},/*#__PURE__*/React.createElement(\"a\",{href:\"javascript: void(0);\",onClick:function onClick(){toggleSubtable(\"bankInfo\"+i);}},\"View\")),/*#__PURE__*/React.createElement(Col,{className:\"text-center\"},/*#__PURE__*/React.createElement(\"a\",{href:\"javascript: void(0);\",onClick:function onClick(){toggleSubtable(\"productList\"+i);}},\"View\")),/*#__PURE__*/React.createElement(Col,{className:\"text-center\"},row.active==1?\"Active\":\"Inactive\",\" (\",/*#__PURE__*/React.createElement(\"a\",{href:\"javascript: void(0);\",onClick:function onClick(){updateStatus(row.user_id,row.active==1?0:1);}},row.active==1?\"Deactivate\":\"Activate\"),\")\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-table-container \"+(_this3.state.activeSubtable==\"personalInfo\"+i?\"\":\"hide\")},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12,lg:12,sm:12,xs:12},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:2,lg:2,sm:1,xs:1}),/*#__PURE__*/React.createElement(Col,{md:9,lg:9,sm:9,xs:9},/*#__PURE__*/React.createElement(\"table\",{className:\"affitto-table\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"text-left\"},\"Website\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-left\"},\"Tax ID\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Tax CLassification\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Business Address\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Contact Person\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},row.online_store_website),/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},row.tax_identification_number),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},row.federal_tax_classification),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},row.street_number_street_address),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},row.account_holders_name)))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-table-container \"+(_this3.state.activeSubtable==\"bankInfo\"+i?\"\":\"hide\")},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12,lg:12,sm:12,xs:12},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6,lg:6,sm:5,xs:5}),/*#__PURE__*/React.createElement(Col,{md:5,lg:5,sm:5,xs:5},/*#__PURE__*/React.createElement(\"table\",{className:\"affitto-table\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"text-left\"},\"Name\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-left\"},\"Account Number\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Transit Number\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},row.account_holders_name),/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},row.account_number),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},row.transit_number)))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-table-container \"+(_this3.state.activeSubtable==\"productList\"+i?\"\":\"hide\")},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12,lg:12,sm:12,xs:12},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:2,lg:2,sm:1,xs:1}),/*#__PURE__*/React.createElement(Col,{md:9,lg:9,sm:9,xs:9},/*#__PURE__*/React.createElement(\"table\",{className:\"affitto-table\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"text-left\"}),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"SKU Number\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Category\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Price\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Rental Price\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Rental Duration\")),row.products.map(function(prod,j){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-left\"},/*#__PURE__*/React.createElement(\"img\",{width:\"70\",src:prod.image})),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},prod.sku),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},prod.category),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},prod.price),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},prod.rental_price!=null?\"$\"+prod.rental_price:\"\",/*#__PURE__*/React.createElement(\"br\",null),prod.rental_price2!=null?\"$\"+prod.rental_price2:\"\",/*#__PURE__*/React.createElement(\"br\",null),prod.rental_price3!=null?\"$\"+prod.rental_price3:\"\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},prod.rental_period!=null?prod.rental_period+\" days\":\"\",/*#__PURE__*/React.createElement(\"br\",null),prod.rental_period2!=null?prod.rental_period2+\" days\":\"\",/*#__PURE__*/React.createElement(\"br\",null),prod.rental_period3!=null?prod.rental_period3+\" days\":\"\"));}))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:2,lg:2,sm:1,xs:1}),/*#__PURE__*/React.createElement(Col,{md:9,lg:9,sm:9,xs:9},/*#__PURE__*/React.createElement(Row,{className:\"affitto-table-row-underline\"}))));})),/*#__PURE__*/React.createElement(\"div\",{className:\"padding-20\"}));}}]);return ClientExplorer;}(Component);export{ClientExplorer as default};","map":{"version":3,"sources":["/Users/douglas/Desktop/Projects/affitto/site/src/pages/ClientExplorer.js"],"names":["React","Component","SearchTop","Container","Row","Col","Toggle","ClientExplorer","props","state","clientList","activeSubtable","server","userData","JSON","parse","localStorage","getItem","requestOptions","method","headers","accessToken","body","stringify","fetch","then","res","json","status","removeItem","window","location","setState","toggleSubtable","element","updateStatus","userId","userActive","id","active","map","row","i","brand_name_dba","business_owner_email","user_id","online_store_website","tax_identification_number","federal_tax_classification","street_number_street_address","account_holders_name","account_number","transit_number","products","prod","j","image","sku","category","price","rental_price","rental_price2","rental_price3","rental_period","rental_period2","rental_period3"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport SearchTop from '../components/SearchTop';\n\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\n\nimport Toggle from '../components/Toggle';\n\nexport default class ClientExplorer extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n                clientList: [],\n                activeSubtable: \"\",\n                server: props.server\n                };\n    \n    }\n\n    componentWillMount() {\n        const userData = JSON.parse(localStorage.getItem(\"userData\"));\n\n        const requestOptions = {\n            method: 'POST',\n            headers: { \n                'Content-Type': 'application/json',\n                'x-access-token': \"ottiffa \"+userData.accessToken\n            },\n            body: JSON.stringify({})\n        };\n\n        fetch(this.state.server+\"/clients\", requestOptions)\n        .then(res => res.json())\n        .then(res => {\n            if (res.status == 401 || res.status == 403) {\n                localStorage.removeItem(\"userData\");\n                window.location = \"/\";\n            }else {\n                this.setState({clientList: res});\n            }\n        });\n    }\n\n    \n    render() {\n        const toggleSubtable = (element) => {\n            this.setState({activeSubtable: element});\n        }\n\n        const updateStatus = (userId, userActive) => {\n            const userData = JSON.parse(localStorage.getItem(\"userData\"));\n\n            const requestOptions = {\n                method: 'POST',\n                headers: { \n                    'Content-Type': 'application/json',\n                    'x-access-token': \"ottiffa \"+userData.accessToken\n                },\n                body: JSON.stringify({id: userId, active: userActive})\n            };\n    \n            fetch(this.state.server+\"/changeStatus\", requestOptions)\n            .then(res => res.json())\n            .then(res => {\n                if (res.status == 401 || res.status == 403) {\n                    localStorage.removeItem(\"userData\");\n                    window.location = \"/\";\n                }else {\n                    this.setState({clientList: res});\n                }\n            });\n    \n        }\n\n        return (\n            <>\n                <SearchTop color=\"green\" title=\"Client Explorer\" href=\"/menu\" />\n                \n                <div className=\"affitto-new-table\">\n                    <Row className=\"affitto-table-header-container\">\n                        <Col md={2} lg={2} sm={1} xs={1}></Col>\n                        <Col md={9} lg={9} sm={9} xs={9}>\n                            <Row className=\"affitto-table-header\">\n                                <Col className=\"text-left\">Brand</Col>\n                                <Col className=\"text-left\">Email Contact</Col>\n                                <Col className=\"text-center\">Personal Info</Col>\n                                <Col className=\"text-center\">Bank Info</Col>\n                                <Col className=\"text-center\">Product List</Col>\n                                <Col className=\"text-center\">Active Status</Col>\n                            </Row>\n                        </Col>\n                    </Row>\n                    {this.state.clientList.map((row, i) =>\n                        <div className=\"affitto-table-row\">\n                        <Row className=\"affitto-table-row-container\">\n                            <Col md={2} lg={2} sm={1} xs={1}></Col>\n                            <Col md={9} lg={9} sm={9} xs={9}>\n                                <Row>\n                                    <Col className=\"text-left\">{row.brand_name_dba}</Col>\n                                    <Col className=\"text-left\">{row.business_owner_email}</Col>\n                                    <Col className=\"text-center\"><a href=\"javascript: void(0);\" onClick={() => {toggleSubtable(\"personalInfo\"+i)}}>View</a></Col>\n                                    <Col className=\"text-center\"><a href=\"javascript: void(0);\" onClick={() => {toggleSubtable(\"bankInfo\"+i)}}>View</a></Col>\n                                    <Col className=\"text-center\"><a href=\"javascript: void(0);\" onClick={() => {toggleSubtable(\"productList\"+i)}}>View</a></Col>\n                                    <Col className=\"text-center\">{(row.active == 1)?\"Active\":\"Inactive\"} (<a href=\"javascript: void(0);\" onClick={() => {updateStatus(row.user_id, (row.active == 1)?0:1);}}>{(row.active == 1)?\"Deactivate\":\"Activate\"}</a>)</Col>\n                                </Row>\n                            </Col>  \n                        </Row>\n\n                        <div className={\"sub-table-container \" + ((this.state.activeSubtable == \"personalInfo\"+i)?\"\":\"hide\")}>\n                            <Row>\n                                <Col md={12} lg={12} sm={12} xs={12}>\n                                    <Row>\n                                        <Col md={2} lg={2} sm={1} xs={1}></Col>\n                                        <Col md={9} lg={9} sm={9} xs={9}>\n                                            <table className=\"affitto-table\">\n                                                <tr>\n                                                    <th className=\"text-left\">Website</th>\n                                                    <th className=\"text-left\">Tax ID</th>\n                                                    <th className=\"text-center\">Tax CLassification</th>\n                                                    <th className=\"text-center\">Business Address</th>\n                                                    <th className=\"text-center\">Contact Person</th>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"text-left\">{row.online_store_website}</td>\n                                                    <td className=\"text-left\">{row.tax_identification_number}</td>\n                                                    <td className=\"text-center\">{row.federal_tax_classification}</td>\n                                                    <td className=\"text-center\">{row.street_number_street_address}</td>\n                                                    <td className=\"text-center\">{row.account_holders_name}</td>\n                                                </tr>\n                                            </table>\n                                        </Col> \n                                    </Row>\n                                </Col>  \n                            </Row>\n                        </div>\n\n                        <div className={\"sub-table-container \" + ((this.state.activeSubtable == \"bankInfo\"+i)?\"\":\"hide\")}>\n                            <Row>\n                                <Col md={12} lg={12} sm={12} xs={12}>\n                                    <Row>\n                                        <Col md={6} lg={6} sm={5} xs={5}></Col>\n                                        <Col md={5} lg={5} sm={5} xs={5}>\n                                            <table className=\"affitto-table\">\n                                                <tr>\n                                                    <th className=\"text-left\">Name</th>\n                                                    <th className=\"text-left\">Account Number</th>\n                                                    <th className=\"text-center\">Transit Number</th>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"text-left\">{row.account_holders_name}</td>\n                                                    <td className=\"text-left\">{row.account_number}</td>\n                                                    <td className=\"text-center\">{row.transit_number}</td>\n                                                </tr>\n                                            </table>\n                                        </Col> \n                                    </Row>\n                                </Col>  \n                            </Row>\n                        </div>\n\n                        <div className={\"sub-table-container \" + ((this.state.activeSubtable == \"productList\"+i)?\"\":\"hide\")}>\n                            <Row>\n                                <Col md={12} lg={12} sm={12} xs={12}>\n                                    <Row>\n                                        <Col md={2} lg={2} sm={1} xs={1}></Col>\n                                        <Col md={9} lg={9} sm={9} xs={9}>\n                                            <table className=\"affitto-table\">\n                                                <tr>\n                                                    <th className=\"text-left\"></th>\n                                                    <th className=\"text-center\">SKU Number</th>\n                                                    <th className=\"text-center\">Category</th>\n                                                    <th className=\"text-center\">Price</th>\n                                                    <th className=\"text-center\">Rental Price</th>\n                                                    <th className=\"text-center\">Rental Duration</th>\n                                                </tr>\n                                                {row.products.map((prod, j) =>\n                                                <tr>\n                                                    <td className=\"text-left\"><img width=\"70\" src={prod.image} /></td>\n                                                    <td className=\"text-center\">{prod.sku}</td>\n                                                    <td className=\"text-center\">{prod.category}</td>\n                                                    <td className=\"text-center\">{prod.price}</td>\n                                                    <td className=\"text-center\">{((prod.rental_price != null)?\"$\"+prod.rental_price:\"\")}<br />{((prod.rental_price2 != null)?\"$\"+prod.rental_price2:\"\")}<br />{((prod.rental_price3 != null)?\"$\"+prod.rental_price3:\"\")}</td>\n                                                    <td className=\"text-center\">{((prod.rental_period != null)?prod.rental_period+\" days\":\"\")}<br />{((prod.rental_period2 != null)?prod.rental_period2+\" days\":\"\")}<br />{((prod.rental_period3 != null)?prod.rental_period3+\" days\":\"\")}</td>\n                                                </tr>\n                                                )}\n                                            </table>\n                                        </Col> \n                                    </Row>\n                                </Col>  \n                            </Row>\n                        </div>\n\n                        <Row>\n                            <Col md={2} lg={2} sm={1} xs={1}></Col>\n                            <Col md={9} lg={9} sm={9} xs={9}>\n                                <Row className=\"affitto-table-row-underline\"></Row>\n                            </Col>  \n                        </Row>\n                    </div>\n                    )}\n                </div>\n                <div className=\"padding-20\"></div>    \n            </>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}